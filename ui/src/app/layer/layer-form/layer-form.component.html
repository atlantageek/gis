

<form [formGroup]="form" (ngSubmit)="saveLayer()">

        <mat-checkbox class="example-margin" name="enabled" formControlName="enabled" value='t'>Enable?</mat-checkbox>

    <mat-form-field appearance="standard">
        <input type="hidden" formControlName="id">
        <mat-label>Name</mat-label>
        <input matInput  inputmode="tel" placeholder="Type name" formControlName="name" #nameInput>
        <mat-error>Name is required</mat-error>

    </mat-form-field>

    <mat-form-field appearance="fill" hintLabel="">
        <mat-label>Layer Type</mat-label>
        <mat-select matNativeControl name="layer_type" formControlName="layer_type">
            <mat-option value="baselayer">Base</mat-option>
            <mat-option value="secondary">Secondary</mat-option>

        </mat-select>
    </mat-form-field>
    <mat-form-field appearance="fill" hintLabel="">
        <mat-label>WMS URL</mat-label>
        <input matInput   placeholder="http://" formControlName="uri" #nameInput>
        <button matSuffix mat-button mat-icon-button  type="button" color="primary" (click)="getWmsLayerOptions();" ><mat-icon>get_app</mat-icon></button>
        <!-- <button matSuffix mat-button mat-icon-button aria-label="get filters" (click)="getWmsLayerOptions();" ><mat-icon>get_app</mat-icon></button> -->
        <mat-error>URL is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" hintLabel="">
        <mat-label>Layer from WMS</mat-label>
        <mat-select matNativeControl name="filter" formControlName="filter" >
            <mat-option *ngFor="let layername of wms_layer_options" [value]="layername" >{{layername}}</mat-option>

        </mat-select>
    </mat-form-field>


    <div mat-dialog-actions align="end">
        <button mat-raised-button color="primary" type="button" (click)="cancel()">Cancel</button>
        <button mat-raised-button color="primary" type="submit" [disabled]="!form.valid">Save</button>
    </div>
</form>

